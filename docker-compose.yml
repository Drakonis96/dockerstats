version: "3.9"

services:
  dockerstats:
    image: drakonis96/dockerstats:latest
    container_name: docker-stats
    environment:
      AUTH_USER: ${AUTH_USER:-}
      AUTH_PASSWORD: ${AUTH_PASSWORD:-}
      # Uncomment the line below to use a Docker secret for the password
      # AUTH_PASSWORD_FILE: /run/secrets/auth_password
    ports:
      - "5001:5000"
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
    # Uncomment the lines below to define and use the Docker secret
    # secrets:
    #   - auth_password
    restart: unless-stopped

# Uncomment the lines below to define the Docker secret
# secrets:
#   auth_password:
#     file: ./auth_password.txt # Path to the file containing the password on the host